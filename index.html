<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presensi Suji - Anti Reset</title>
    <style>
        :root {
            --ios-blue: #007AFF;
            --bg-gradient: linear-gradient(180deg, #A8E6FF 0%, #FFFFFF 40%, #F2F5F9 100%);
            --quote-bg: #E1F5FE; 
        }
        * { box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
        body { margin: 0; background: var(--bg-gradient); display: flex; justify-content: center; min-height: 100vh; overflow-x: hidden; }
        .iphone-screen { width: 100%; max-width: 414px; position: relative; padding-bottom: 120px; min-height: 100vh; }

        /* Status Bar */
        .status-bar { height: 44px; display: flex; justify-content: space-between; align-items: center; padding: 0 25px; font-weight: 600; font-size: 14px; margin-top: 5px; }
        .status-right { display: flex; align-items: center; gap: 6px; }
        .bars { display: flex; align-items: flex-end; gap: 1.5px; }
        .bar { width: 3px; background: rgba(0,0,0,0.1); border-radius: 0.5px; }
        .bar.active { background: #000; }
        .bat-container { width: 22px; height: 11px; border: 1.1px solid #000; border-radius: 2.5px; position: relative; padding: 1px; }
        .bat-level { height: 100%; width: 90%; background: #000; border-radius: 1px; }
        .bat-tip { width: 1.5px; height: 4px; background: #000; position: absolute; right: -3px; top: 2.5px; }

        /* Card */
        .header { padding: 20px 25px; display: flex; justify-content: space-between; align-items: center; }
        .card { background: white; margin: 0 20px 20px; border-radius: 24px; padding: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); }
        .presensi-info { display: flex; border-bottom: 1px solid #f0f0f0; padding-bottom: 15px; margin-bottom: 12px; }
        .presensi-item { flex: 1; }
        .presensi-item strong { font-size: 22px; color: #1c1c1e; }
        .active-timer { color: var(--ios-blue) !important; }

        .location-box { display: flex; align-items: center; gap: 8px; background: #f8f9fa; padding: 10px 14px; border-radius: 12px; font-size: 12px; color: #666; }
        .location-box svg { width: 14px; height: 14px; fill: var(--ios-blue); }

        .menu-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; padding: 0 20px; }
        .menu-item { text-align: center; font-size: 11px; font-weight: 700; color: #555; }
        .icon-box { aspect-ratio: 1/1; border-radius: 18px; display: flex; align-items: center; justify-content: center; margin-bottom: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.08); }
        .icon-box svg { width: 24px; height: 24px; fill: white; }

        .quote-card { margin: 30px 20px; background: var(--quote-bg); padding: 25px; border-radius: 26px; color: #263238; font-style: italic; font-size: 16px; font-weight: 700; text-align: center; border: 2px solid #81D4FA; min-height: 110px; display: flex; align-items: center; justify-content: center; }

        /* Nav Bawah */
        .bottom-container { position: fixed; bottom: 0; width: 100%; max-width: 414px; background: rgba(255,255,255,0.98); backdrop-filter: blur(10px); border-top: 1px solid #eee; z-index: 1002; }
        .nav-bar { display: flex; justify-content: space-around; align-items: center; padding: 10px 0 25px; }
        .nav-item { text-align: center; font-size: 10px; color: #8E8E93; text-decoration: none; font-weight: 600; flex: 1; cursor: pointer; }
        .nav-item.active { color: var(--ios-blue); }
        .nav-item svg { width: 24px; height: 24px; display: block; margin: 0 auto 4px; fill: currentColor; }
        .camera-btn { width: 60px; height: 60px; background: var(--ios-blue); border-radius: 20px; margin-top: -45px; display: flex; align-items: center; justify-content: center; border: 4px solid white; box-shadow: 0 5px 15px rgba(0,122,255,0.3); cursor: pointer; }
        .copyright { font-size: 10px; color: #bbb; text-align: center; padding-bottom: 10px; margin-top: -10px; }
    </style>
</head>
<body>

<div class="iphone-screen">
    <div class="status-bar">
        <span id="top-time">--:--</span>
        <div class="status-right">
            <div class="bars"><div class="bar active" style="height:4px"></div><div class="bar" style="height:6px"></div><div class="bar" style="height:9px"></div><div class="bar" style="height:12px"></div></div>
            <div class="bat-container"><div class="bat-level"></div><div class="bat-tip"></div></div>
        </div>
    </div>

    <div class="header">
        <div><div style="color:#888; font-size:13px;">Hallo Bos</div><div class="user-name">SUJIANTO <small style="font-weight:400">(Owner II)</small></div></div>
        <div class="avatar">SJ</div>
    </div>

    <div class="card">
        <div class="presensi-info">
            <div class="presensi-item">
                <small style="color:#aaa">Datang</small><br>
                <strong id="time-arrival">00:00:00</strong>
            </div>
            <div class="presensi-item" style="text-align:right">
                <small style="color:#aaa">Pulang</small><br>
                <strong id="time-departure">--:--:--</strong>
            </div>
        </div>
        <div class="location-box">
            <svg viewBox="0 0 24 24"><path d="M12,2C8.1,2,5,5.1,5,9c0,5.2,7,13,7,13s7-7.8,7-13C19,5.1,15.9,2,12,2z M12,11.5c-1.4,0-2.5-1.1-2.5-2.5s1.1-2.5,2.5-2.5 s2.5,1.1,2.5,2.5S13.4,11.5,12,11.5z"/></svg>
            <span id="txt-lokasi">Mencari Lokasi GPS...</span>
        </div>
    </div>

    <div class="menu-grid">
        <div class="menu-item"><div class="icon-box" style="background:#FF9500;"><svg viewBox="0 0 24 24"><path d="M14,2H6C4.9,2,4,2.9,4,4v16c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V8L14,2z M16,18H8v-2h8V18z M16,14H8v-2h8V14z"/></svg></div>Izin</div>
        <div class="menu-item"><div class="icon-box" style="background:#34C759;"><svg viewBox="0 0 24 24"><path d="M21,18v1c0,1.1-0.9,2-2,2H5c-1.1,0-2-0.9-2-2V5c0-1.1,0.9-2,2-2h14c1.1,0,2-0.9,2-2v1h-9c-1.1,0-2,0.9-2,2v8c0,1.1,0.9,2,2,2H21z"/></svg></div>Saldo</div>
        <div class="menu-item"><div class="icon-box" style="background:#5856D6;"><svg viewBox="0 0 24 24"><path d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18z"/></svg></div>Paypall</div>
        <div class="menu-item"><div class="icon-box" style="background:#FF2D55;"><svg viewBox="0 0 24 24"><path d="M20,6h-8l-2-2H4C2.9,4,2,4.9,2,6v12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V8C22,6.9,21.1,6,20,6z"/></svg></div>Aset</div>
    </div>

    <div class="quote-card" id="quote-display">"..."</div>

    <div class="bottom-container">
        <div class="nav-bar">
            <div class="nav-item" id="reset-btn"><svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>Beranda</div>
            <div class="nav-item"><svg viewBox="0 0 24 24"><path d="M13,3c-4.97,0-9,4.03-9,9H1l3.89,3.89l0.07,0.14L9,12H6c0-3.87,3.13-7,7-7s7,3.13,7,7s-3.13,7-7,7c-1.93,0-3.68-0.79-4.94-2.06l-1.42,1.42C8.27,19.99,10.51,21,13,21c4.97,0,9-4.03,9-9S17.97,3,13,3z"/></svg>Riwayat</div>
            <div class="camera-btn" id="main-btn"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3.2"/><path d="M9 2L7.17 4H4C2.9,4,2,4.9,2,6v12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V6c0-1.1-0.9-2-2-2h-3.17L15,2H9z"/></svg></div>
            <div class="nav-item"><svg viewBox="0 0 24 24"><path d="M11.99,2C6.47,2,2,6.48,2,12s4.47,10,9.99,10s10-4.48,10-10S17.52,2,11.99,2z"/></svg>Shift</div>
            <div class="nav-item"><svg viewBox="0 0 24 24"><path d="M12,12c2.2,0,4-1.8,4-4s-1.8-4-4-4s-4,1.8-4,4S9.8,12,12,12z M12,14c-2.7,0-8,1.3-8,4v2h16v-2C20,15.3,14.7,14,12,14z"/></svg>Akun</div>
        </div>
        <div class="copyright">@2026 Presensi Suji Ima Internusa</div>
    </div>
</div>

<script>
    // State: 0=Datang Jalan, 1=Datang Stop, 2=Pulang Jalan
    let state = parseInt(localStorage.getItem('suji_state')) || 0;
    let lockedArrival = localStorage.getItem('suji_arrival') || "";
    let lockedDeparture = localStorage.getItem('suji_departure') || "";

    function updateTick() {
        const now = new Date();
        const timeStr = now.getHours().toString().padStart(2,'0') + ":" + 
                        now.getMinutes().toString().padStart(2,'0') + ":" + 
                        now.getSeconds().toString().padStart(2,'0');
        
        document.getElementById('top-time').innerText = timeStr.substring(0,5);

        const arrEl = document.getElementById('time-arrival');
        const depEl = document.getElementById('time-departure');

        if (state === 0) {
            arrEl.innerText = timeStr;
            arrEl.className = "active-timer";
            depEl.innerText = "--:--:--";
            depEl.className = "";
        } else if (state === 1) {
            arrEl.innerText = lockedArrival;
            arrEl.className = "";
            depEl.innerText = "--:--:--";
            depEl.className = "";
        } else if (state === 2) {
            arrEl.innerText = lockedArrival;
            arrEl.className = "";
            depEl.innerText = timeStr;
            depEl.className = "active-timer";
        }
    }

    // Tombol Kamera (UTAMA)
    document.getElementById('main-btn').onclick = function() {
        const nowStr = document.getElementById('top-time').innerText + ":" + new Date().getSeconds().toString().padStart(2,'0');
        
        if (state === 0) {
            state = 1;
            lockedArrival = nowStr;
            localStorage.setItem('suji_state', 1);
            localStorage.setItem('suji_arrival', lockedArrival);
            alert("Datang Terkunci!");
        } else if (state === 1) {
            state = 2;
            localStorage.setItem('suji_state', 2);
            alert("Pulang Dimulai!");
        }
    };

    // Tombol Beranda (RESET)
    document.getElementById('reset-btn').onclick = function() {
        if(confirm("Bos yakin mau RESET semua jam?")) {
            localStorage.clear();
            state = 0;
            lockedArrival = "";
            location.reload();
        }
    };

    setInterval(updateTick, 1000);
    window.onload = () => {
        updateTick();
        document.getElementById('quote-display').innerText = '"Tetap semangat dan disiplin, Bos Suji!"';
    };
</script>
</body>
</html>
